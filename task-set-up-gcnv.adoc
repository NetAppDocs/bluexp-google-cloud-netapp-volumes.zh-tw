---
sidebar: sidebar 
permalink: task-set-up-gcnv.html 
keywords: setup, set up, api, service account, requirements, permissions, google cloud netapp volumes, gcnv 
summary: BlueXP需要透過 Google Cloud 服務帳戶存取Google Cloud NetApp Volumes API 並獲得正確的權限。 
---
= 設定Google Cloud NetApp Volumes
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
BlueXP需要透過 Google Cloud 服務帳戶獲得正確的權限。

完成下列工作、以便BlueXP存取您的Google Cloud專案：

* 如果您還沒有服務帳戶，請建立一個新的。
* 將服務帳戶成員新增至您的專案並為其指派特定的角色（權限）。
* 為用於向 Google 進行身份驗證的服務帳戶建立並下載金鑰對。
* 在共享項目中授予 IAM 角色。




== 設定服務帳戶

. 在 Google Cloud 控制台中，  https://console.cloud.google.com/iam-admin/serviceaccounts["前往「服務帳戶」頁面"^] 。
. 按一下 * 選取專案 * 、選擇您的專案、然後按一下 * 開啟 * 。
. （可選）若要建立服務帳戶，請執行下列操作：
+
.. 按一下「*建立服務帳戶*」。
.. 輸入服務帳戶名稱（易記的顯示名稱）和說明。
+
Cloud Console會根據此名稱產生服務帳戶ID。如有必要、請編輯ID：您稍後無法變更ID。

.. 若要立即設定存取控制項、請按一下「*建立*」、然後從頁面底部按一下「*完成*」、然後繼續下一步。






== 建立並下載金鑰對

. 按一下「服務帳戶名稱」、然後從「服務帳戶詳細資料」頁面、按一下「*新增金鑰>建立新金鑰*」。
. 選擇 * JSON* 作為金鑰類型、然後按一下 * 「 Create * （建立 * ）」。
+
按一下「 * 建立 * 」、就會產生新的公開 / 私密金鑰配對、並下載至您的系統。它是唯一的私密金鑰複本。請安全地儲存此檔案、因為它可用於驗證您的服務帳戶。





== 新增服務帳戶成員

. 在「IAM 頁面」中按一下「新增」並填寫「新增成員」頁面中的欄位：
+
.. 在 New Members （新成員）欄位中、輸入完整服務帳戶 ID 。
+
例如： \user1-service-account-gcnv@project1.iam.gserviceaccount.com

.. 新增以下角色之一：
+
*** _Google Cloud NetApp Volumes Admin_ 或
*** Google Cloud NetApp磁碟區檢視器




. 按一下「 * 儲存 * 」。




== 建立共享 VPC

在每個將使用服務帳戶的其他 GCP 項目中，執行以下操作：

. 在_IAM 頁面_中，從專案下拉選單中選擇共用 VPC 主機專案。
. 按一下“新增主體”。
. 在「*新主體*」欄位中，輸入您的服務帳戶的電子郵件地址。
. 從*選擇角色*下拉式選單中，選擇Google Cloud NetApp Volumes管理員角色。
. 按一下「 * 儲存 * 」。


詳細步驟請參考Google Cloud文件：

* link:https://cloud.google.com/iam/docs/roles-permissions/netapp["Google Cloud NetApp Volumes角色與權限"^]
* link:https://cloud.google.com/iam/docs/creating-managing-service-accounts["建立及管理服務帳戶"^]
* link:https://cloud.google.com/iam/docs/granting-changing-revoking-access["授予、變更及撤銷資源存取權"^]
* link:https://cloud.google.com/iam/docs/creating-managing-service-account-keys["建立及管理服務帳戶金鑰"^]

